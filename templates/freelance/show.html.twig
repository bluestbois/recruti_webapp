{% extends 'base.html.twig' %}

{% block title %}Freelance{% endblock %}

{% block gobackbtn %}
    <a href="{{ path("freelance_index") }}" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm">
        <i class="fas fa-arrow-left fa-sm text-white-50"></i> Go back
    </a>
{% endblock %}

{% block page_title %}
    Freelance Job
{% endblock %}


{% block main %}

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ freelance.id }}</td>
            </tr>
            <tr>
                <th>Title</th>
                <td>{{ freelance.title }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ freelance.description }}</td>
            </tr>
            <tr>
                <th>Salary</th>
                <td>{{ freelance.salary }} per hour</td>
            </tr>
            <tr>
                <th>Project</th>
                <td><a href="{{ path("project_show",{"id": freelance.project.id }) }}">{{ freelance.project }}</a></td>
            </tr>
        </tbody>
    </table>
    <div style="width: 100%; display:flex; justify-content: flex-end">
        <a href="{{ path('freelance_edit', {'id': freelance.id}) }}"><button type="button" class="btn-sm shadow-sm btn btn-primary mt-2 mb-2 mr-2"><i class="far fa-edit"></i> Edit</button></a>
        {{ include('freelance/_delete_form.html.twig') }}
    </div>
        <h4>Liste des candidatures</h4>
<table class="table">

    <tr>
        <th>id </th>
        <th>date</th>
        <th>score </th>
        <th></th>

    </tr>
    {% for candidatures in freelance.candidatures %}
    <tr>
        <th>{{ candidatures.id }}</th>
        <th>{{ candidatures.date ? candidatures.date|date('Y-m-d') : '' }}</th>
        <th>{{ candidatures.score }}</th>
        <th><a class="btn btn-success" href="{{ path('member_new', {'id': candidatures.id,'proj':freelance.project.id}) }}">Recruter</a></th>
    </tr>
    {% endfor %}
</table>
{% endblock %}
